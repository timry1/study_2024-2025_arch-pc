---
## Front matter
lang: ru-RU
title: Программирование в командном процессоре ОС UNIX.
subtitle: Лабораторная работа 13
author:
  - Рыбалко Тимофей Александрович
institute:
  - Российский университет дружбы народов, Москва, Россия
date: Архитектура компьютеров и ОС

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
---

# Цель работы

## Цель
- Освоить применение управляющих конструкций (ветвлений и циклов) в командных файлах UNIX.

- Изучить практическое использование команд getopts, grep, find, tar и механизма обработки кодов возврата ($?).

---

# Скриншоты и описание действий

## 1. Поиск по шаблону
- **Действие:** Демонстрирует работу скрипта для поиска строк, содержащих "hello" (без учёта регистра), с выводом номеров строк (-n):
- **Скриншот:**  
  ![Поиск по шаблону](screenshot_1.png)

---

## 2. Проверка числа
- **Действие:** Показывает взаимодействие C-программы (check_number) и shell-скрипта. Программа определяет знак числа, а скрипт анализирует код возврата ($?)
- **Скриншот:**  
  ![Проверка числа](screenshot_2.png)

---

## 3. Управление нумерованными файлами
- **Действие:** Скрипт создаёт 5 файлов (1.tmp–5.tmp) и удаляет их по команде clean
- **Скриншот:**  
  ![Управление нумерованными файлами](screenshot_3.png)

---

## 4. Архивирование новых файлов
- **Действие:** Скрипт запаковывает в архив (recent_files.tar.gz) только файлы из test_dir, изменённые за последние 7 дней
- **Скриншот:**  
  ![Архивирование новых файлов](screenshot_4.png)

---


# Контрольные вопросы

## Ответы
1.getopts — разбирает аргументы командной строки (ключи и их значения) в shell-скриптах.

2.Метасимволы (*, ?, []) — используются для шаблонного поиска и генерации имён файлов (например, *.txt).

3.Операторы управления — if, case, for, while, until, &&, ||, break, continue.

4.Прерывание цикла — break (выход), continue (следующая итерация), exit (завершение скрипта).

5.false/true — возвращают код завершения 1 и 0, используются для управления условиями.

6.if test -f man$s/$i.$s — проверяет, существует ли файл с именем вида manX/Y.X, где X и Y — значения переменных.

7.while vs until — while выполняется пока условие истинно, until — пока оно ложно (т.е. до первого совпадения).
---

# Заключение

- Освоены ключевые конструкции shell-программирования: ветвления (if/case), циклы (for/while), обработка аргументов (getopts).

- Приобретены практические навыки автоматизации задач: поиск файлов, обработка кодов возврата, пакетное создание/удаление файлов, архивирование с фильтрацией.